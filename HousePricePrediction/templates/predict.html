<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House Price Prediction - Estatia</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #000000;
            --bg-secondary: #0a0a0a;
            --glass-light: rgba(255, 255, 255, 0.04);
            --glass-medium: rgba(255, 255, 255, 0.08);
            --border-light: rgba(255, 255, 255, 0.12);
            --border-medium: rgba(255, 255, 255, 0.2);
            --text-primary: #ffffff;
            --text-secondary: #eaeaea;
            --text-muted: #b5b5b5;
            --accent-primary: #ff5a2c;
            --accent-secondary: #ff875f;
            --accent-gold: #ffdd59;
            --success: #4CAF50;
            --error: #ff4444;
            --shadow-sm: 0 10px 40px rgba(0, 0, 0, 0.6);
            --shadow-md: 0 20px 60px rgba(0, 0, 0, 0.3);
            --shadow-accent: 0 10px 30px rgba(255, 90, 44, 0.4);
            --transition-fast: 0.2s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.35s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Inter", sans-serif;
            background: radial-gradient(circle at top, var(--bg-secondary), var(--bg-primary));
            color: var(--text-secondary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ================= NAVBAR ================= */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 76px;
            padding: 0 48px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
            backdrop-filter: blur(18px);
            border-bottom: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
            z-index: 1000;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 14px;
            color: var(--text-primary);
            font-weight: 600;
            letter-spacing: 1.2px;
            font-size: 18px;
        }

        .logo-icon {
            width: 38px;
            height: 38px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            background: linear-gradient(145deg, #111, #000);
            border: 1px solid var(--border-light);
            box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.1);
        }

        .logo-icon svg {
            width: 60%;
            height: 60%;
        }

        .welcome-text {
            color: var(--text-muted);
            font-size: 14px;
            font-weight: 500;
            margin-left: 20px;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .nav-menu {
            list-style: none;
            display: flex;
            gap: 14px;
        }

        .nav-item {
            position: relative;
            padding: 12px 18px;
            font-size: 14px;
            color: var(--text-muted);
            text-decoration: none;
            border-radius: 10px;
            transition: all var(--transition-slow);
        }

        .nav-item::after {
            content: "";
            position: absolute;
            left: 50%;
            bottom: 6px;
            width: 0%;
            height: 1px;
            background: var(--text-primary);
            transform: translateX(-50%);
            transition: width var(--transition-slow);
        }

        .nav-item:hover {
            color: var(--text-secondary);
            background: var(--glass-light);
        }

        .nav-item:hover::after,
        .nav-item.active::after {
            width: 40%;
        }

        .nav-item.active {
            color: var(--text-primary);
        }

        .cta {
            padding: 14px 28px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: var(--text-primary);
            font-weight: 600;
            font-size: 14px;
            border: none;
            cursor: pointer;
            box-shadow: var(--shadow-accent);
            transition: transform var(--transition-normal);
        }

        .cta:hover {
            transform: translateY(-2px);
        }

        /* ================= MAIN CONTENT ================= */
        .main-wrapper {
            padding-top: 120px;
            padding-bottom: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .main-container {
            width: 100%;
            max-width: 800px;
            padding: 0 20px;
        }

        .page-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .page-header h1 {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 700;
            background: linear-gradient(to right, var(--accent-gold), var(--accent-primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            letter-spacing: -0.5px;
        }

        .page-header p {
            color: var(--text-muted);
            font-size: clamp(1rem, 2vw, 1.1rem);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* ================= FORM ================= */
        .form-container {
            background: rgba(20, 20, 20, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: clamp(30px, 5vw, 50px);
            box-shadow: var(--shadow-md);
            backdrop-filter: blur(10px);
        }

        .form-container h2 {
            text-align: center;
            margin-bottom: 30px;
            color: var(--text-primary);
            font-size: clamp(1.5rem, 3vw, 1.8rem);
        }

        .prediction-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
            margin-left: 5px;
        }

        input[type="number"], 
        select {
            padding: 16px 20px;
            border-radius: 12px;
            border: 1px solid var(--border-medium);
            font-size: 16px;
            outline: none;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            transition: all var(--transition-normal);
            width: 100%;
            font-family: inherit;
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 20px center;
            background-size: 20px;
            padding-right: 50px;
        }

        select option {
            background: #1a1a1a;
            color: var(--text-primary);
            padding: 10px;
        }

        input:focus, 
        select:focus {
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(255, 90, 44, 0.2);
            background: var(--glass-medium);
        }

        input.valid {
            border-color: var(--success);
        }

        input.invalid {
            border-color: var(--error);
        }

        .submit-btn {
            grid-column: 1 / -1;
            margin-top: 20px;
            padding: 18px 40px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: var(--text-primary);
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: var(--shadow-accent);
        }

        .submit-btn:active:not(:disabled) {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-icon {
            width: 20px;
            height: 20px;
        }

        /* ================= INFO SECTION ================= */
        .info-section {
            margin-top: 40px;
            padding: 30px;
            background: rgba(255, 90, 44, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(255, 90, 44, 0.2);
        }

        .info-section h4 {
            color: var(--text-primary);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .info-section p {
            color: var(--text-muted);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        /* ================= BACK LINK ================= */
        .back-link {
            text-align: center;
            margin-top: 30px;
        }

        .back-link a {
            color: var(--accent-gold);
            text-decoration: none;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color var(--transition-normal);
        }

        .back-link a:hover {
            color: var(--accent-primary);
        }

        /* ================= RESPONSIVE ================= */
        @media (max-width: 1024px) {
            .navbar {
                padding: 0 30px;
            }
            
            .nav-menu {
                gap: 10px;
            }
            
            .nav-item {
                padding: 10px 14px;
                font-size: 13px;
            }
        }

        @media (max-width: 768px) {
            .navbar {
                height: auto;
                min-height: 76px;
                padding: 15px 20px;
                flex-direction: column;
                gap: 15px;
            }

            .logo {
                width: 100%;
                justify-content: center;
            }

            .welcome-text {
                margin-left: 0;
                margin-top: 8px;
            }

            .nav-right {
                width: 100%;
                flex-direction: column;
                gap: 15px;
            }

            .nav-menu {
                flex-wrap: wrap;
                justify-content: center;
            }

            .main-wrapper {
                padding-top: 200px;
            }

            .prediction-form {
                grid-template-columns: 1fr;
            }

            .form-container {
                padding: 30px 20px;
            }

            .info-section {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .navbar {
                padding: 12px 15px;
            }

            .logo {
                font-size: 16px;
            }

            .logo-icon {
                width: 32px;
                height: 32px;
            }

            .form-container {
                padding: 25px 15px;
            }

            .prediction-form {
                gap: 20px;
            }

            input[type="number"], 
            select {
                padding: 14px 16px;
                font-size: 15px;
            }

            .submit-btn {
                padding: 16px 30px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <div class="logo-icon">
                    <svg fill="#ffffff" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                        <path d="M499.926,129.885L260.478,62.608c-2.929-0.822-6.026-0.822-8.954,0L12.075,129.885
                            C4.935,131.891,0,138.403,0,145.82v84.966c0,9.141,7.411,16.189,16.552,16.189H28.69v186.125
                            c0,9.141,7.103,16.909,16.244,16.909h98.509h70.621h253.003c9.141,0,16.244-7.768,16.244-16.909V246.973
                            h12.138c9.141,0,16.552-7.048,16.552-16.189v-84.966C512,138.403,507.065,131.891,499.926,129.885z
                            M197.517,416.904H160V315.387h37.517V416.904z
                            M450.207,416.905H230.621V298.454c0-9.141-7.416-16.171-16.557-16.171h-70.621
                            c-9.141,0-16.546,7.03-16.546,16.171v118.45H61.793V246.973h286.607
                            c0.188,1.103,0.21,0.585,0.409,0.775l101.397,96.808V416.905z
                            M450.207,298.861l-53.843-51.887h53.843V298.861z
                            M478.897,213.87H33.103v-20.966h445.793V213.87z
                            M478.897,159.801H33.103v-1.44L256,95.734l222.897,62.626V159.801z" />
                    </svg>
                </div>
                <span>ESTATIA</span>
                <span class="welcome-text">Welcome, {{ user_name }} ðŸ‘‹</span>
            </div>

            <div class="nav-right">
                <ul class="nav-menu">
                    <li><a class="nav-item" href="http://127.0.0.1:8000/">Home</a></li>
                    <li><a class="nav-item" href="{% url 'price_page' %}">Price Range</a></li>
                    <li><a class="nav-item active" href="/predict">Predict</a></li>
                    <li><a class="nav-item" href="{% url 'floor_map:floor_map_input' %}">Floor Plan</a></li>
                    <li><a class="nav-item" href="{% url 'dashboard' %}">Dashboard</a></li>
                </ul>

                <form method="POST" action="{% url 'logout' %}" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" class="cta">Logout</button>
                </form>
            </div>
        </nav>
    </header>

    <main class="main-wrapper">
        <div class="main-container">
            <div class="page-header">
                <h1>House Price Prediction</h1>
                <p>Enter property details below to get an accurate price estimation using our AI-powered prediction model.</p>
            </div>

            <div class="form-container">
                <h2>Property Details</h2>
                
                <form class="prediction-form" action="{% url 'result' %}" method="POST">
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <label for="bedroom">Bedrooms</label>
                        <input type="number" 
                               id="bedroom" 
                               name="bedroom" 
                               placeholder="e.g., 3" 
                               min="1" 
                               max="10" 
                               required>
                    </div>

                    <div class="form-group">
                        <label for="bathroom">Bathrooms</label>
                        <input type="number" 
                               id="bathroom" 
                               name="bathroom" 
                               placeholder="e.g., 2" 
                               min="1" 
                               max="8" 
                               step="0.5" 
                               required>
                    </div>

                    <div class="form-group">
                        <label for="stories">Stories</label>
                        <input type="number" 
                               id="stories" 
                               name="stories" 
                               placeholder="e.g., 2" 
                               min="1" 
                               max="5" 
                               required>
                    </div>

                    <div class="form-group">
                        <label for="area">Area (sq.ft)</label>
                        <input type="number" 
                               id="area" 
                               name="area" 
                               placeholder="e.g., 1500" 
                               min="100" 
                               max="10000" 
                               required>
                    </div>

                    <div class="form-group">
                        <label for="guestroom">Guest Room</label>
                        <select id="guestroom" name="guestroom" required>
                            <option value="" disabled selected>Select an option</option>
                            <option value="1">Yes</option>
                            <option value="0">No</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="parking">Car Parking</label>
                        <select id="parking" name="parking" required>
                            <option value="" disabled selected>Select an option</option>
                            <option value="1">Yes</option>
                            <option value="0">No</option>
                        </select>
                    </div>

                    <button type="submit" class="submit-btn">
                        <svg class="btn-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path fill="currentColor" d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                        </svg>
                        Predict House Price
                    </button>
                </form>

                <div class="info-section">
                    <h4>How Our Prediction Works</h4>
                    <p>Our AI model analyzes multiple factors including property size, number of rooms, and amenities to provide accurate market price predictions. The algorithm is trained on thousands of real estate transactions to ensure reliable results.</p>
                </div>
            </div>

            <div class="back-link">
                <a href="javascript:history.back()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Back to Home
                </a>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('.prediction-form');
            const inputs = form.querySelectorAll('input[type="number"]');
            const selects = form.querySelectorAll('select');
            const submitBtn = form.querySelector('.submit-btn');
            
            // Input validation
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    validateInput(this);
                });
                
                input.addEventListener('blur', function() {
                    if (!this.value && this.required) {
                        this.classList.add('invalid');
                        this.classList.remove('valid');
                    }
                });
            });
            
            function validateInput(input) {
                const value = parseFloat(input.value);
                const min = parseFloat(input.min);
                const max = parseFloat(input.max);
                
                if (input.value && value >= min && value <= max) {
                    input.classList.add('valid');
                    input.classList.remove('invalid');
                } else if (input.value) {
                    input.classList.add('invalid');
                    input.classList.remove('valid');
                } else {
                    input.classList.remove('valid', 'invalid');
                }
            }
            
            // Select validation
            selects.forEach(select => {
                select.addEventListener('change', function() {
                    if (this.value) {
                        this.classList.add('valid');
                    }
                });
            });
            
            // Form submission
            form.addEventListener('submit', function(e) {
                let isValid = true;
                const allFields = [...inputs, ...selects];
                
                allFields.forEach(field => {
                    if (field.required && !field.value) {
                        field.classList.add('invalid');
                        isValid = false;
                    }
                });
                
                if (!isValid) {
                    e.preventDefault();
                    alert('Please fill in all required fields correctly.');
                    return;
                }
                
                // Disable button and show loading state
                submitBtn.innerHTML = `
                    <svg class="btn-icon" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" opacity="0.3"/>
                        <path d="M12 2a10 10 0 0 1 10 10" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round">
                            <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="1s" repeatCount="indefinite"/>
                        </path>
                    </svg>
                    Processing...
                `;
                submitBtn.disabled = true;
            });
            
            // Auto-focus first input
            if (inputs.length > 0) {
                inputs[0].focus();
            }
        });
    </script>
</body>
</html>